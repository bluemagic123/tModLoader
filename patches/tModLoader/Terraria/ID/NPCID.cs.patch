--- src/Terraria/Terraria/ID/NPCID.cs
+++ src/tModLoader/Terraria/ID/NPCID.cs
@@ -2,7 +_,8 @@
 using ReLogic.Reflection;
 using System;
 using System.Collections.Generic;
 using Terraria.DataStructures;
+using Terraria.ModLoader;
 
 namespace Terraria.ID
 {
@@ -61,7 +_,7 @@
 				public const int BoneJavelin = 169;
 			}
 
-			public static SetFactory Factory = new SetFactory(665);
+			public static SetFactory Factory = new SetFactory(NPCLoader.NPCCount);
 			public static Dictionary<int, int> SpecialSpawningRules = new Dictionary<int, int> {
 				{ 259, 0 },
 				{ 260, 0 },
